<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>xxxRecordar Mosqueiro ‚Äî Abad√°s</title>
  <meta name="description" content="Recordar Mosqueiro ‚Äî Reviva os carnavais dos anos 90. Garanta seu abad√°!" />

  <style>
    /* ===== Reset e base ===== */
    :root{
      --bg1: #FF59; /* amarelo vibrante */
      --bg2: #FF6B6B; /* vermelho/rosa carnaval */
      --accent: #2D9CDB; /* azul para detalhes */
      --text: #111;
      --card-bg: #fff;
      --bordar: 14px;
    }
    *{box-sizing: border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      color:var(--text);
      background: linear-gradient(120deg, var(--bg1) 0%, var(--bg2) 100%);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.35;
    }

    /* ===== Layout compacto (sem espa√ßo grande topo) ===== */
    .container{
      max-width:1100px;
      margin: 14px auto;
      padding: 0 16px;
    }

    header.site-header{
      display:flex;
      align-items:center;
      gap:16px;
      padding:8px 0;
    }

    .logo {
      background: #fff;
      padding:8px;
      border-radius: 12px;
      box-shadow: 0 6px 18px rgba(0,0,0,0.12);
      display:flex;
      align-items:center;
      justify-content:center;
      width:140px; /* maior no desktop; mobile ajusta via media */
      height:70px;
    }

    .logo img{
      max-width:100%;
      max-height:100%;
      object-fit:contain;
      display:block;
    }

    .header-text {
      display:flex;
      flex-direction:column;
      gap:4px;
    }
    .header-text h1{
      margin:0;
      font-size:18px;
      font-weight:700;
      color:#111;
    }
    .header-text p{
      margin:0;
      font-size:13px;
      color:#333;
    }

    /* ===== Se√ß√£o de venda do abad√° (bot√£o) ===== */
    .hero {
      margin-top:6px;
      display:flex;
      gap:18px;
      align-items:center;
      justify-content:space-between;
    }
    .hero .cta {
      background:#fff;
      padding:10px 14px;
      border-radius:12px;
      box-shadow:0 8px 30px rgba(0,0,0,0.12);
      display:flex;
      align-items:center;
      gap:12px;
      text-decoration:none;
      color:#111;
      font-weight:700;
    }
    .hero .cta .price{
      font-size:14px;
      color:var(--accent);
    }

    /* ===== √Årea de v√≠deos ===== */
    .videos-grid{
      margin-top:18px;
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap:16px;
    }

    /* Wrapper responsivo moderno (aspect-ratio) */
    .video-wrapper{
      position:relative;
      width:100%;
      aspect-ratio: 16 / 9; /* troque para 4/3 se precisar */
      overflow:hidden;
      border-radius: var(--bordar);
      background: #000;
      box-shadow: 0 6px 18px rgba(0,0,0,0.14);
      display:flex;
      align-items:center;
      justify-content:center;
    }

    /* O iframe ou video preenche o wrapper */
    .video-wrapper iframe,
    .video-wrapper video {
      position:absolute;
      inset:0;
      width:100%;
      height:100%;
      border:0;
      object-fit: cover; /* trocar para contain caso queira ver todo o quadro */
      border-radius: inherit;
      background: #000;
    }

    /* Overlay para controles customizados */
    .video-overlay {
      position:absolute;
      inset:0;
      display:flex;
      align-items:center;
      justify-content:center;
      pointer-events:none; /* permitir clicks passarem para o v√≠deo; alteramos em elementos interativos */
    }

    /* Bot√£o central (aparece ao hover ou sempre no mobile quando tocado) */
    .btn-center-play{
      pointer-events:auto;
      height:68px;
      width:68px;
      border-radius:50%;
      background: rgba(0,0,0,0.45);
      display:flex;
      align-items:center;
      justify-content:center;
      color:#fff;
      font-size:28px;
      border:2px solid rgba(255,255,255,0.18);
      transition: transform .18s ease, opacity .12s ease;
      opacity:0;
      transform: scale(.9);
      backdrop-filter: blur(6px);
    }

    /* Mostrar bot√£o ao hover no desktop */
    .video-wrapper:hover .btn-center-play { opacity:1; transform: scale(1); }
    /* Sempre mostrar bot√£o quando for touch-mode (classe adicionada pelo JS quando tocado) */
    .video-wrapper.touch-active .btn-center-play { opacity:1; transform: scale(1); }

    /* Controles que aparecem ao hover no canto direito (timeline + volume vertical) */
    .controls-panel{
      pointer-events:auto;
      position:absolute;
      right:10px;
      bottom:10px;
      display:flex;
      gap:10px;
      align-items:center;
      background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
      border-radius:10px;
      padding:6px;
      backdrop-filter: blur(6px);
      opacity:0;
      transform: translateY(6px);
      transition: all .16s ease;
    }

    .video-wrapper:hover .controls-panel { opacity:1; transform: translateY(0); }

    .timeline {
      width:160px;
      height:6px;
      background:rgba(255,255,255,0.12);
      border-radius:999px;
      overflow:hidden;
      position:relative;
    }
    .timeline .progress{
      position:absolute;
      inset:0;
      left:0;
      width:0%;
      background: linear-gradient(90deg, #fff 0%, var(--accent) 100%);
      height:100%;
    }

    /* Volume vertical */
    .volume-vertical {
      width:36px;
      height:80px;
      display:flex;
      align-items:center;
      justify-content:center;
      position:relative;
      padding:6px;
    }
    .volume-track{
      width:6px;
      height:60px;
      background: rgba(255,255,255,0.12);
      border-radius:6px;
      position:relative;
      overflow:hidden;
    }
    .volume-level{
      position:absolute;
      left:0;
      bottom:0;
      width:100%;
      height:60%;
      background: linear-gradient(180deg, var(--accent), #9B51E0);
      border-radius:6px 6px 0 0;
    }

    /* Mute/Unmute */
    .mute-btn{
      height:36px;
      width:36px;
      border-radius:8px;
      display:flex;
      align-items:center;
      justify-content:center;
      background: rgba(0,0,0,0.45);
      color:#fff;
      font-size:16px;
    }

    /* Pequenas legendas e badges */
    .meta{
      font-size:12px;
      color:#fff;
      background: linear-gradient(90deg, rgba(0,0,0,0.35), rgba(0,0,0,0.18));
      padding:6px 10px;
      border-radius:999px;
      position:absolute;
      left:10px;
      top:10px;
    }

    /* ===== Mobile tweaks ===== */
    @media (max-width:720px){
      .logo { width:110px; height:56px; }
      .btn-center-play{ height:62px; width:62px; font-size:26px; }
      .controls-panel{ right:8px; bottom:8px; padding:6px; }
      .timeline { width:120px; }
      .video-wrapper:hover .controls-panel { opacity:1; transform:none; } /* touch devices rely on touch-active */
    }

    /* ===== Confete em frente (prefer√™ncia do usu√°rio) ===== */
    .confetti-layer {
      position:fixed;
      inset:0;
      pointer-events:none;
      z-index:9999; /* sempre na frente */
    }

    /* ===== Rodap√©/links sociais ===== */
    footer{
      margin:28px 0 80px;
      color:#111;
      text-align:center;
    }
    a.social{
      display:inline-block;
      background:#fff;
      padding:8px 12px;
      border-radius:10px;
      text-decoration:none;
      color:var(--accent);
      font-weight:700;
      box-shadow:0 8px 24px rgba(0,0,0,0.12);
    }
  </style>
</head>
<body>
  <div class="confetti-layer" id="confettiLayer" aria-hidden="true"></div>

  <div class="container">
    <header class="site-header">
      <div class="logo" title="Recordar Mosqueiro">
        <!-- Substitua 'logo.png' pelo arquivo de logo real -->
        <img src="logo.png" alt="Recordar Mosqueiro ‚Äî viva o carnaval ‚Ä¢ Abad√°s Limitados">
      </div>
      <div class="header-text">
        <h1>viva o carnaval ‚Ä¢ Abad√°s Limitados</h1>
        <p>Siga no Instagram: <a href="https://www.instagram.com/recordarmosqueirooficial/" target="_blank" rel="noopener" style="color:#111;font-weight:700;text-decoration:underline">@recordarmosqueirooficial</a></p>
      </div>

      <a class="cta" href="https://ticket.pedido.one/event/1slrdP/checkout" target="_blank" rel="noopener" style="margin-left:auto">
        Comprar Abad√°s
        <span class="price">‚Üí</span>
      </a>
    </header>

    <main>
      <section class="videos-grid">
        <!-- V√≠deo nativo (ex.: mp4) -->
        <article>
          <div class="video-wrapper" data-video-id="v1">
            <video playsinline controls preload="metadata" muted>
              <!-- Substitua a src pelo seu arquivo mp4 real -->
              <source src="seu-video-1.mp4" type="video/mp4">
              Seu navegador n√£o suporta v√≠deo HTML5.
            </video>

            <div class="video-overlay">
              <div class="meta">Recordar Mosqueiro ‚Äî 90's</div>

              <button class="btn-center-play" aria-label="Play/Pause">‚ñ∫</button>

              <div class="controls-panel" aria-hidden="true">
                <div class="timeline" aria-hidden="true"><div class="progress"></div></div>
                <div class="volume-vertical" aria-hidden="true">
                  <div class="volume-track"><div class="volume-level"></div></div>
                </div>
                <button class="mute-btn" title="Ativar/Desativar som">üîä</button>
              </div>
            </div>
          </div>
        </article>

        <!-- Exemplo de embed via iframe (pedidoOne ou outro) -->
        <article>
          <div class="video-wrapper" data-iframe-id="i1">
            <!-- Substitua SRC abaixo pelo embed do player real (ex.: pedidoOne iframe) -->
            <iframe src="https://www.youtube.com/embed/dQw4w9WgXcQ?rel=0&playsinline=1" allow="autoplay; encrypted-media; picture-in-picture" allowfullscreen></iframe>

            <div class="video-overlay">
              <div class="meta">Embed ‚Äî PedidoOne/YouTube</div>

              <button class="btn-center-play" aria-label="Play/Pause">‚ñ∫</button>

              <div class="controls-panel" aria-hidden="true">
                <div class="timeline" aria-hidden="true"><div class="progress"></div></div>
                <div class="volume-vertical" aria-hidden="true">
                  <div class="volume-track"><div class="volume-level" style="height:60%"></div></div>
                </div>
                <button class="mute-btn" title="Ativar/Desativar som">üîä</button>
              </div>
            </div>
          </div>
        </article>

        <!-- Duplicar blocos conforme necess√°rio -->
      </section>
    </main>

    <footer>
      <p>Contatos somente via Instagram ‚Äî <a class="social" href="https://www.instagram.com/recordarmosqueirooficial/" target="_blank" rel="noopener">@recordarmosqueirooficial</a></p>
    </footer>
  </div>

  <script>
    /* ===== Helpers and config ===== */
    const isTouch = 'ontouchstart' in window || navigator.maxTouchPoints > 0;
    if (isTouch) document.documentElement.classList.add('touch');

    /* ===== IntersectionObserver para autoplay/stop e tentar reproduzir com som ===== */
    const options = { root: null, rootMargin: '0px', threshold: 0.55 };
    const observers = [];

    // Fun√ß√£o utilit√°ria para tentar tocar com som; se falhar, ativa muted autoplay.
    async function tryPlayWithSound(mediaEl){
      if(!mediaEl) return;
      try {
        // alguns iframes n√£o s√£o acess√≠veis; para iframes, s√≥ podemos postar mensagens se suportado.
        if (mediaEl.tagName === 'VIDEO') {
          // Tenta tocar com som
          await mediaEl.play();
          // Se autoplay policies bloquear som, o browser pode pausar; chamamos play() e se lan√ßar, tratamos.
          // Se o v√≠deo estiver silenciado, desmutar:
          if (mediaEl.muted) {
            // tenta desmutar; browsers podem bloquear. Se bloqueado, o play() acima ainda pode ter sido feito muted.
            mediaEl.muted = false;
          }
        } else if (mediaEl.tagName === 'IFRAME') {
          // Para iframe, se for youtube/vimeo, normalmente o embed precisa de API. Como fallback, enviamos mensagem postMessage
          // para iframes que suportam player API (necess√°rio adaptar para seu player espec√≠fico).
          // Exemplo para YouTube embed com API: postMessage com {"event":"command","func":"playVideo"}
          try {
            // tenta play via postMessage - adapt√°vel se tiver a API do player
            mediaEl.contentWindow && mediaEl.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}', '*');
          } catch(e){}
        }
      } catch (err) {
        // Fall back: habilita muted autoplay
        try {
          if (mediaEl.tagName === 'VIDEO') {
            mediaEl.muted = true;
            await mediaEl.play().catch(()=>{});
          }
        } catch(e){}
      }
    }

    // Pausar quando fora do viewport
    function pauseMedia(mediaEl){
      try {
        if (!mediaEl) return;
        if (mediaEl.tagName === 'VIDEO') {
          mediaEl.pause();
        } else if (mediaEl.tagName === 'IFRAME') {
          // Post message para pausar (depende do player)
          try { mediaEl.contentWindow && mediaEl.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}', '*'); } catch(e){}
        }
      } catch(e){}
    }

    // Handle updating progress bar (apenas para <video>)
    function attachProgressUpdater(videoEl, wrapper){
      const progressEl = wrapper.querySelector('.progress');
      if(!progressEl || !videoEl) return;
      const update = () => {
        const pct = (videoEl.currentTime / Math.max(1, videoEl.duration)) * 100;
        progressEl.style.width = pct + '%';
      };
      videoEl.addEventListener('timeupdate', update);
      videoEl.addEventListener('loadedmetadata', update);
      videoEl.addEventListener('seeked', update);
    }

    // Attach interactions per wrapper
    document.querySelectorAll('.video-wrapper').forEach(wrapper => {
      const video = wrapper.querySelector('video');
      const iframe = wrapper.querySelector('iframe');
      const media = video || iframe;
      const btn = wrapper.querySelector('.btn-center-play');
      const muteBtn = wrapper.querySelector('.mute-btn');
      const volumeLevel = wrapper.querySelector('.volume-level');

      // Toggle touch-active class on touch to show controls
      if (isTouch) {
        wrapper.addEventListener('touchstart', () => wrapper.classList.add('touch-active'), {passive:true});
      }

      // Central play/pause button
      btn && btn.addEventListener('click', async (e) => {
        e.stopPropagation();
        if (video) {
          if (video.paused) {
            try { await tryPlayWithSound(video); } catch(e){}
            btn.textContent = '‚ùö‚ùö';
          } else {
            video.pause();
            btn.textContent = '‚ñ∫';
          }
        } else if (iframe) {
          // para iframe, enviar postMessage para tocar/pausar (depende do player)
          try { iframe.contentWindow && iframe.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}', '*'); btn.textContent = '‚ùö‚ùö'; } catch(e){}
        }
      });

      // Mute/unmute (aplic√°vel a <video>)
      muteBtn && muteBtn.addEventListener('click', () => {
        if (video) {
          video.muted = !video.muted;
          muteBtn.textContent = video.muted ? 'üîá' : 'üîä';
        } else {
          // para iframe tente toggle via API (depende)
        }
      });

      // Update progress for videos
      if (video) attachProgressUpdater(video, wrapper);

      // Observador de visibilidade
      const obs = new IntersectionObserver(entries => {
        entries.forEach entry => {
          if (entry.isIntersecting) {
            // play when visible
            if (media) {
              await tryPlayWithSound(media);
              // mudar estado do bot√£o central
              const isPlaying = (video ? !video.paused : true);
              if (btn) btn.textContent = isPlaying ? '‚ùö‚ùö' : '‚ñ∫';
            }
          } else {
            // pause when not visible
            pauseMedia(media);
            if (btn) btn.textContent = '‚ñ∫';
          }
        });
      }, options);

      obs.observe(wrapper);
      observers.push(obs);

      // Atualiza volume visual se houver v√≠deo e controles tipo range (n√£o implementado full)
      if (video && volumeLevel) {
        // inicializar n√≠vel visual conforme volume
        const updateLevel = ()=> {
          const pct = Math.round((video.volume || 0) * 100);
          volumeLevel.style.height = pct + '%';
        };
        updateLevel();
        video.addEventListener('volumechange', updateLevel);
      }

      // Responder a eventos de clicked outside / pausar ao scroll
      wrapper.addEventListener('click', async (e) => {
        // Clique no wrapper faz toggle play/pause (exceto quando clicou em controle espec√≠fico)
        if (e.target.closest('.controls-panel') || e.target.closest('.btn-center-play') || e.target.closest('.mute-btn')) return;
        if (video) {
          if (video.paused) { await tryPlayWithSound(video); btn.textContent = '‚ùö‚ùö'; }
          else { video.pause(); btn.textContent = '‚ñ∫'; }
        } else if (iframe) {
          // Se iframe, apenas tentar play via postMessage
          try { iframe.contentWindow && iframe.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}', '*'); btn.textContent = '‚ùö‚ùö'; } catch(e){}
        }
      });
    });

    /* ===== Confetti simples (canvas) ‚Äî sempre em frente conforme prefer√™ncia ===== */
    (function createConfetti(){
      const canvas = document.createElement('canvas');
      canvas.style.position='fixed';
      canvas.style.left=0;
      canvas.style.top=0;
      canvas.style.width='100%';
      canvas.style.height='100%';
      canvas.style.pointerEvents='none';
      canvas.style.zIndex=9999;
      document.getElementById('confettiLayer').appendChild(canvas);

      const ctx = canvas.getContext('2d');
      let W, H, confettis=[];
      function resize(){ W = canvas.width = innerWidth; H = canvas.height = innerHeight; }
      window.addEventListener('resize', resize);
      resize();

      function random(min,max){ return Math.random()*(max-min)+min; }

      class Conf {
        constructor(){
          this.x = random(0,W);
          this.y = random(-H,0);
          this.w = random(6,14);
          this.h = random(6,14);
          this.vx = random(-1.2,1.2);
          this.vy = random(1,4);
          this.color = ['#FFDE59','#FF6B6B','#2D9CDB','#9B51E0'][Math.floor(random(0,4))];
          this.ang = random(0,Math.PI*2);
          this.va = random(-0.06,0.06);
        }
        update(){
          this.x += this.vx;
          this.y += this.vy;
          this.ang += this.va;
          if (this.y > H + 20) {
            this.y = random(-H, 0);
            this.x = random(0,W);
          }
        }
        draw(){
          ctx.save();
          ctx.translate(this.x, this.y);
          ctx.rotate(this.ang);
          ctx.fillStyle = this.color;
          ctx.fillRect(-this.w/2, -this.h/2, this.w, this.h);
          ctx.restore();
        }
      }

      for(let i=0;i<80;i++) confettis.push(new Conf());

      function loop(){
        ctx.clearRect(0,0,W,H);
        confettis.forEach(c=>{ c.update(); c.draw(); });
        requestAnimationFrame(loop);
      }
      loop();
    })();

    /* ===== Notas finais para integra√ß√£o =====
       - Substitua 'seu-video-1.mp4' por seus arquivos locais ou URLs.
       - Para iframes de players de terceiros (pedidoOne ou YouTube), ideal √© usar a API do player
         para controlar play/pause/unmute corretamente. Este exemplo usa postMessage padr√£o para YouTube.
       - Browsers mobile costumam bloquear autoplay com som; o script tenta tocar com som e, se bloqueado,
         volta para autoplay muted; o usu√°rio pode apertar o bot√£o de som para liberar som.
       - Caso o embed do pedidoOne injete um wrapper com height fixa, envolva o embed com a div.video-wrapper
         e remova qualquer height em px no CSS do embed. Se quiser, me manda o trecho exato do embed que eu adapto.
    */
  </script>
</body>
</html>

